const getURLFromPolyline = function(coordinates) {
	var start = coordinates[0]
	var end = coordinates[coordinates.length - 1];
	var baseURL = 'https://www.google.com/maps?';
	debugger;
	var waypoints = '';
	var viaPoints = [];

	for (var i = 1; i < coordinates.length - 1; i++) {
		waypoints += ('+to:' + coordinates[i]);
		viaPoints.push(i);
	}

	var finalURL = (baseURL
		+ 'saddr=' + start
		+ '&daddr=' + end
		+ waypoints
		+ '&via=' 
		+ viaPoints.join(','))

	return finalURL;
	  //format for shared url is
	  // https://www.google.com/maps?saddr=40.802147,-81.941460&daddr=40.814147,-82.061460+to:40.805266,-81.927727&via=1
	  // Add start and finish locations
	  // append +to: for each waypoint inbetween
	  // append &via=x,x+1,â€¦ n-1 where x is all the numbers from 1 until the number before the last index of waypoints
	  // i.e. if there are 4 waypoints, this parameter will look like 1,2
	}

	var short = [ [ 37.771604831625744, -122.41369884927455 ],
	[ 37.77166966325149, -122.4137776985491 ],
	[ 37.771734494877236, -122.41385654782366 ],
	[ 37.77179932650298, -122.41393539709821 ],
	[ 37.77186415812872, -122.41401424637276 ],
	[ 37.7719283982958, -122.4140938496427 ] ]

	var long = [ [ 37.771604831625744, -122.41369884927455 ],
	[ 37.77166966325149, -122.4137776985491 ],
	[ 37.771734494877236, -122.41385654782366 ],
	[ 37.77179932650298, -122.41393539709821 ],
	[ 37.77186415812872, -122.41401424637276 ],
	[ 37.7719283982958, -122.4140938496427 ],
	[ 37.77199121066284, -122.41417527308145 ],
	[ 37.77205402302988, -122.41425669652023 ],
	[ 37.77211683539692, -122.41433811995898 ],
	[ 37.77217964776397, -122.41441954339774 ],
	[ 37.772243480002835, -122.41449968766314 ],
	[ 37.772307317993146, -122.4145798247148 ],
	[ 37.77237115598346, -122.41465996176647 ],
	[ 37.77243499397377, -122.41474009881813 ],
	[ 37.77249883196407, -122.4148202358698 ],
	[ 37.77256266995438, -122.41490037292147 ],
	[ 37.77262650794469, -122.41498050997312 ],
	[ 37.77268981432608, -122.4150613162425 ],
	[ 37.7727528111698, -122.41514251217441 ],
	[ 37.772815808013526, -122.41522370810632 ],
	[ 37.77287880485725, -122.41530490403824 ],
	[ 37.77294180170098, -122.41538609997015 ],
	[ 37.773004798544704, -122.41546729590206 ],
	[ 37.77306779538843, -122.41554849183397 ],
	[ 37.773130912040465, -122.4156295386564 ],
	[ 37.77319415399619, -122.41571042953 ],
	[ 37.77325739595191, -122.4157913204036 ],
	[ 37.77332063790763, -122.4158722112772 ],
	[ 37.77338387986335, -122.4159531021508 ],
	[ 37.773447121819075, -122.4160339930244 ],
	[ 37.7735103637748, -122.41611488389799 ],
	[ 37.773574802947195, -122.4161942351466 ],
	[ 37.77363978124177, -122.41627289308214 ],
	[ 37.773704759536336, -122.41635155101767 ],
	[ 37.77376973783091, -122.4164302089532 ],
	[ 37.773834716125485, -122.41650886688875 ],
	[ 37.77389969442006, -122.41658752482428 ] ]


	console.log(getURLFromPolyline(long))
	module.exports = getURLFromPolyline;



